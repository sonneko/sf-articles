# 定理証明支援系


## はじめに
数学は「理想的な世界での真理探究」というイメージがあります。ある意味数学に対照的な物理は、検出器の誤差・確率論的要素・カオスなどが至る所で発生しますから「絶対にこの理論が正しい」というのを証明するのは非常に難しいです。現代の最先端物理学は、量子力学という確率支配の範囲にどっぷり浸かっているので何かの理論が正しいことを言うときには、「もしこの理論が正しくないとしてこの実験結果が得られる確率は10^-5%である」みたいな但し書きがついてしまいます。またそうしたらイデア論でいう現象界の
そうしたら物理の理論は、「理想的な証明」ではなく「現実的な証明」になってしまいます。何ら問題はないですがシンプルに悲しいですね。

理想的な論理体系とは「全てが"100%"で正しいのか間違っているのかを判定できる」であるとここでは定義しておきます。

> ここでは現代物理をやる必要がないもしくは本当に正しいか怪しいと言っているのではなく、ただ完璧な100％ではないよねということを言っています。もちろん100％でないといけないかというとそうではなく、それが正しいと考えても問題ないぐらい確実だということです。要は「99.9999999%正しいよ」よりも「100%正しいよ」の方が僕は好きだと言っています。

物理と違って数学は人間が考えたサンドボックスの中の話です。なのでサンドボックスの中のあらゆる要素を人間が見ること"は"できます。その中で論理体系を作るとしましょう。


## マシン→数学的証明

正しいか間違っているかを判定できるような問題を*命題*とよび、それが正しいことを示すことを*証明*・間違っていることを示すことを*反証*と言います。命題はすでに証明された他の*命題*を用いて証明することができて、その元々の命題を辿っていくと最終的に無条件に正しいことを信じなければいけない特別な問題に遭遇しますが、これを*公理*と呼びます。

ここで*公理*は証明不可能です。「スタート地点が間違っている可能性があるなんて数学は不完全じゃないか」と思われる方がいらっしゃるかもしれませんが、僕はそう思いません。

数学には種類があります。ユークリッド幾何学というのは有名ですが非ユークリッド幾何学というものもあります。非ユークリッド幾何学とはユークリッド幾何学の公理の一部が使えない状態で再出発した論理体系です。イメージは異なるサンドボックスの中での話といったようなものです。こんなふうに、この公理には特別性はなくたまたま人間が見ているサンドボックスがそうだったというだけなのです。

じゃあ全ての命題が公理から導き出せたら、もう*数学 is perfect*でなんて美しいでしょう。ただ僕は証明の主体である人間は不完全なので信頼できません。完全に信頼できる論理体系のためには、「任意の命題に対する証明が正しいことを確認する」ようなもっと機械的でシンプルで信頼できるような*マシン*が必要だと僕は考えました。
そこで僕はプログラミングの経験を活かし「数学を証明するためだけの形式言語」を定義し、それによって書かれた証明が正しいことを機械が保証してくれるシステムを作ろうと考えました。
「任意の命題を証明することができるような文法を持つ形式言語」があれば査読が非常に客観的かつ高速に終わります。
それはどんな文法を持つのかとかなり考えたのですが、自分では答えが出ずAIに質問をしてみました。

筆者
>機械的に数学の定理が正しいことをある意味コンパイラのチェックのように示すためだけの数学記述言語みたいな物があったらどうかな？査読がより効率的かつ正確にできるし、AIとの相性も良いし、フォーマットが統一されるし、定理を引用するのをプログラミング言語で言うライブラリを使うイメージで使えたとしたら永続的に公開されているかわからない不安定な論文をわざわざ探して引用しなくてもパッケージマネジャみたいな感覚でインポートして使うみたいなことができたら数学がもっと進むかなと考えて、具体的にその言語？のシンタックスを考えているんだけどどう？
>```
>on "standard_axiom" // 標準的な公理を前提とする
>using nt;
>pub th :
>    // 定理の主張は、整数論における1と2の整数論における加算を行うと3が得られるということ。
>    nt.1 nt.+ nt.2 nt.= nt.3
>
>   // 定理の証明をここに書く
>   nt.1 nt.+ nt.1 is nt.2 because nt.1.next = nt.2
>   nt.1 nt.+ nt.2 nt.= nt.3 because nt.2.next = nt.3
>```
>プログラムの関数が定理にあたって、主張が正しいと言う情報を返してそれを伝播させていくイメージ。どこかで正しくないことが判明したらその定理を使った定理はすべて間違っていることになる。

Gemini 2.5 Flash
>実は、あなたのアイデアは、すでに存在する**定理証明支援系（Theorem Proving System）**や**証明検証系（Proof Checker）**と呼ばれる分野と非常に近いです。
>
>例えば、**Coq**や**Lean**といったシステムは、数学的な命題を記述し、その証明を形式的に記述・検証することができます。これらのシステムも、あなたが提案した言語と同じく、コンパイラが証明の正しさを厳密にチェックする仕組みを持っています。
>
>ただし、これらのシステムは専門的な知識が必要で、まだ一般の数学者が論文執筆に使うにはハードルが高いのが現状です。あなたのアイデアは、そのシンタックスがよりプログラミング言語に近く、直感的な記述を目指している点がユニークですね。

AIは頑張って褒めてくれていますが、要は「昔からもう考えられてるわそんなこと」ということです。たださらに調べてみると僕と同じように「任意の命題をたった一つの言語で証明する」というところで詰まっているようです。
調べるとmathlibという*定理証明支援系Lean*のライブラリを見つけました。

[https://github.com/leanprover-community/mathlib4](https://github.com/leanprover-community/mathlib4)

中を見てみるとすでにわかっている数学的事実をLean言語で再度記述してきちんと正しいことを確認していこうというプロジェクトで、名前を知っている数学の分野・定理を大量に発見できて興奮していました。

これを通して、やはり言語的なことが人間にとっては世界を理解するためのプリミティブで本質的な手法になるのだなということを再確認しました。

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEzMzkxOTQzNTMsMTY0Mzc3MzM4OV19
-->